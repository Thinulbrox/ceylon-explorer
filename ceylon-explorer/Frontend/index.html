<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ceylon Explorer - Your AI Sri Lanka Tourism Guide</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #0087ff;
            --secondary-color: #00d2b2;
            --text-primary: #f0f0f0;
            --text-secondary: rgba(240, 240, 240, 0.7);
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --shadow-primary: 0 4px 15px rgba(0, 0, 0, 0.2);
            --shadow-hover: 0 8px 25px rgba(0, 0, 0, 0.3);
            --backdrop-filter: blur(8px);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            color: var(--text-primary);
            background-color: #0d1117;
            position: relative;
        }

        .background-slider {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }

        .background-slider-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            animation: imageSlide 20s infinite ease-in-out;
            transition: opacity 1s ease-in-out;
        }

        .background-slider::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(2px);
            z-index: 1;
        }

        .background-slider-image:nth-child(1) {
            animation-delay: 0s;
        }

        .background-slider-image:nth-child(2) {
            animation-delay: 7s;
        }

        .background-slider-image:nth-child(3) {
            animation-delay: 14s;
        }

        .background-slider-image:nth-child(4) {
            animation-delay: 21s;
        }

        .background-slider-image:nth-child(5) {
            animation-delay: 28s;
        }

        .background-slider-image:nth-child(6) {
            animation-delay: 35s;
        }

        .background-slider-image:nth-child(7) {
            animation-delay: 42s;
        }

        .background-slider-image:nth-child(8) {
            animation-delay: 49s;
        }

        .background-slider-image:nth-child(9) {
            animation-delay: 56s;
        }

        .background-slider-image:nth-child(10) {
            animation-delay: 63s;
        }

        @keyframes imageSlide {
            0% {
                opacity: 0;
                transform: scale(1.1) translateX(0);
            }

            10% {
                opacity: 1;
                transform: scale(1) translateX(0);
            }

            20% {
                opacity: 1;
                transform: scale(1) translateX(-5%);
            }

            30% {
                opacity: 0;
                transform: scale(0.9) translateX(-10%);
            }

            100% {
                opacity: 0;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo {
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-filter);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 25px;
            margin: 0 auto 30px;
            width: fit-content;
            box-shadow: var(--shadow-primary);
            transition: box-shadow 0.3s ease, transform 0.3s ease;
        }

        .logo:hover {
            box-shadow: var(--shadow-hover);
            transform: translateY(-5px);
        }

        .logo h1 {
            font-size: 2.8rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        .logo .subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 400;
            letter-spacing: 1px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 40px;
            align-items: start;
        }

        .chatbot-section {
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-filter);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 25px;
            box-shadow: var(--shadow-primary);
            position: sticky;
            top: 20px;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
            transition: box-shadow 0.3s ease, transform 0.3s ease;
        }

        .chatbot-section:hover {
            box-shadow: var(--shadow-hover);
            transform: translateY(-5px);
        }

        .chat-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--glass-border);
        }

        .chat-header .avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }

        .chat-header .info h3 {
            font-size: 1.2rem;
            margin-bottom: 3px;
            color: var(--text-primary);
        }

        .chat-header .info .status {
            font-size: 0.8rem;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--secondary-color);
            margin-right: 8px;
            animation: blink 2s infinite;
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            51%,
            100% {
                opacity: 0.4;
            }
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
            max-height: 300px;
            padding-right: 10px;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }

        .message {
            margin-bottom: 15px;
            animation: messageSlide 0.4s ease-out;
        }

        @keyframes messageSlide {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .message.user {
            text-align: right;
        }

        .message.bot {
            text-align: left;
        }

        .message-content {
            display: inline-block;
            padding: 12px 18px;
            border-radius: 18px;
            max-width: 80%;
            position: relative;
        }

        .message.user .message-content {
            background: var(--primary-color);
            color: white;
            border-bottom-right-radius: 5px;
        }

        .message.bot .message-content {
            background: var(--glass-bg);
            color: var(--text-primary);
            border-bottom-left-radius: 5px;
            border: 1px solid var(--glass-border);
        }

        .message-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        .chat-input-container {
            position: relative;
        }

        .chat-input {
            width: 100%;
            padding: 12px 45px 12px 20px;
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            background: var(--glass-bg);
            color: var(--text-primary);
            font-size: 1rem;
            outline: none;
            transition: all 0.3s ease;
            backdrop-filter: var(--backdrop-filter);
        }

        .chat-input::placeholder {
            color: var(--text-secondary);
        }

        .chat-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(0, 135, 255, 0.3);
        }

        .send-button {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            width: 35px;
            height: 35px;
            border: none;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .send-button:hover {
            background-color: var(--secondary-color);
        }

        .send-button:active {
            transform: translateY(-50%) scale(0.9);
        }

        .features-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .feature-card {
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-filter);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow-primary);
            transition: box-shadow 0.3s ease, transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .feature-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        }

        .feature-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .feature-description {
            color: var(--text-secondary);
            line-height: 1.5;
            font-size: 0.9rem;
        }

        .quick-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .suggestion-chip {
            padding: 8px 12px;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            color: var(--text-secondary);
            font-size: 0.8rem;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .suggestion-chip:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .typing-indicator {
            display: none;
            align-items: center;
            margin-bottom: 15px;
        }

        .typing-indicator.show {
            display: flex;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
            margin-left: 10px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--text-secondary);
            animation: typingBounce 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingBounce {

            0%,
            60%,
            100% {
                transform: translateY(0);
            }

            30% {
                transform: translateY(-8px);
            }
        }

        .welcome-message {
            text-align: center;
            color: var(--text-secondary);
            font-style: italic;
            margin: 20px 0;
            padding: 15px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
        }

        .loading-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .error-message {
            background: rgba(255, 82, 82, 0.2);
            border: 1px solid rgba(255, 82, 82, 0.5);
            color: #ff5252;
            padding: 10px 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            display: none;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .chatbot-section {
                position: relative;
                top: auto;
                max-height: none;
            }
        }
    </style>
</head>

<body>
    <div class="background-slider">
        <div class="background-slider-image"
            style="background-image: url('C:/Users/THINUL CHATHSIDU/Desktop/ceylon-explorer/photo_2023-12-23_08-41-16.jpg');">
        </div>
        <div class="background-slider-image"
            style="background-image: url('C:/Users/THINUL CHATHSIDU/Desktop/ceylon-explorer/Frontend/pexels-tomáš-malík-1998438.jpg');">
        </div>
        <div class="background-slider-image"
            style="background-image: url('https://placehold.co/1920x1080/0d1117/e9e9e9?text=Sri+Lanka+3');"></div>
        <div class="background-slider-image"
            style="background-image: url('https://placehold.co/1920x1080/0d1117/e9e9e9?text=Sri+Lanka+4');"></div>
        <div class="background-slider-image"
            style="background-image: url('https://placehold.co/1920x1080/0d1117/e9e9e9?text=Sri+Lanka+5');"></div>
        <div class="background-slider-image"
            style="background-image: url('Frontend/sri-lanka-marawila-beach-rocks-u5eecxz36v4soegw.jpg');"></div>
        <div class="background-slider-image"
            style="background-image: url('https://placehold.co/1920x1080/0d1117/e9e9e9?text=Sri+Lanka+7');"></div>
        <div class="background-slider-image"
            style="background-image: url('https://placehold.co/1920x1080/0d1117/e9e9e9?text=Sri+Lanka+8');"></div>
        <div class="background-slider-image"
            style="background-image: url('https://placehold.co/1920x1080/0d1117/e9e9e9?text=Sri+Lanka+9');"></div>
        <div class="background-slider-image"
            style="background-image: url('https://placehold.co/1920x1080/0d1117/e9e9e9?text=Sri+Lanka+10');"></div>
    </div>

    <div class="container">
        <header class="header">
            <div class="logo">
                <h1><i class="fas fa-gem"></i> Ceylon Explorer</h1>
                <p class="subtitle">Your Intelligent Sri Lankan Tourism Companion</p>
            </div>
        </header>

        <main class="main-content">
            <section class="features-section">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-map-marked-alt"></i>
                    </div>
                    <h3 class="feature-title">Discover Hidden Gems</h3>
                    <p class="feature-description">
                        Explore Sri Lanka's most breathtaking destinations, from ancient temples and pristine beaches to
                        lush tea plantations and wildlife sanctuaries. Our AI knows every corner of the pearl of the
                        Indian Ocean.
                    </p>
                    <div class="quick-suggestions">
                        <span class="suggestion-chip" onclick="sendSuggestion('Best beaches in Sri Lanka')">Best
                            Beaches</span>
                        <span class="suggestion-chip" onclick="sendSuggestion('Ancient temples to visit')">Ancient
                            Temples</span>
                        <span class="suggestion-chip" onclick="sendSuggestion('Wildlife parks in Sri Lanka')">Wildlife
                            Parks</span>
                    </div>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-utensils"></i>
                    </div>
                    <h3 class="feature-title">Culinary Adventures</h3>
                    <p class="feature-description">
                        Dive into the rich flavors of Sri Lankan cuisine. From spicy curries to sweet treats, discover
                        local delicacies, street food hotspots, and fine dining experiences that will tantalize your
                        taste buds.
                    </p>
                    <div class="quick-suggestions">
                        <span class="suggestion-chip"
                            onclick="sendSuggestion('Traditional Sri Lankan food')">Traditional Food</span>
                        <span class="suggestion-chip" onclick="sendSuggestion('Best restaurants in Colombo')">Colombo
                            Dining</span>
                        <span class="suggestion-chip" onclick="sendSuggestion('Street food in Sri Lanka')">Street
                            Food</span>
                    </div>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-route"></i>
                    </div>
                    <h3 class="feature-title">Smart Travel Planning</h3>
                    <p class="feature-description">
                        Get personalized itineraries, transportation options, and accommodation recommendations. Whether
                        you're backpacking or luxury traveling, we'll help you plan the perfect Sri Lankan adventure.
                    </p>
                    <div class="quick-suggestions">
                        <span class="suggestion-chip" onclick="sendSuggestion('7 day Sri Lanka itinerary')">7-Day
                            Itinerary</span>
                        <span class="suggestion-chip" onclick="sendSuggestion('Budget travel tips')">Budget Tips</span>
                        <span class="suggestion-chip"
                            onclick="sendSuggestion('Transportation options')">Transport</span>
                    </div>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-theater-masks"></i>
                    </div>
                    <h3 class="feature-title">Cultural Immersion</h3>
                    <p class="feature-description">
                        Experience the vibrant culture of Sri Lanka through festivals, traditions, arts, and local
                        customs. Learn about the island's rich history and connect with its warm-hearted people.
                    </p>
                    <div class="quick-suggestions">
                        <span class="suggestion-chip" onclick="sendSuggestion('Sri Lankan festivals')">Festivals</span>
                        <span class="suggestion-chip" onclick="sendSuggestion('Cultural sites in Kandy')">Kandy
                            Culture</span>
                        <span class="suggestion-chip"
                            onclick="sendSuggestion('Local customs and traditions')">Traditions</span>
                    </div>
                </div>

            </section>

            <section class="chatbot-section">
                <div class="chat-header">
                    <div class="avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="info">
                        <h3>Ceylon AI Assistant</h3>
                        <div class="status">
                            <div class="status-indicator"></div>
                            Online & Ready to Help
                        </div>
                    </div>
                </div>

                <div class="error-message" id="error-message"></div>

                <div class="chat-messages" id="chat-messages">
                    <div class="welcome-message">
                        👋 Welcome to Ceylon Explorer! I'm your personal AI tourism guide for Sri Lanka.
                        Ask me anything about destinations, culture, food, or travel tips!
                    </div>
                </div>

                <div class="typing-indicator" id="typing-indicator">
                    <div class="avatar" style="width: 30px; height: 30px; margin-right: 10px;">
                        <i class="fas fa-robot" style="font-size: 0.8rem;"></i>
                    </div>
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>

                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="chat-input" placeholder="Ask about Sri Lankan tourism..."
                        maxlength="500">
                    <button class="send-button" id="send-button" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </section>
        </main>
    </div>

    <script>
        let messageId = 1;
        const API_BASE_URL = 'http://localhost:5000';

        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const sendButton = document.getElementById('send-button');
        const typingIndicator = document.getElementById('typing-indicator');
        const errorMessage = document.getElementById('error-message');

        document.addEventListener('DOMContentLoaded', function () {
            setupEventListeners();
        });

        function setupEventListeners() {
            chatInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });

        }

        async function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            chatInput.value = '';
            addMessage(message, 'user');
            showTypingIndicator();
            hideError();

            try {
                const data = { response: "I've received your message: '" + message + "'. Thank you for your inquiry about Sri Lanka!" };

                hideTypingIndicator();

                addMessage(data.response, 'bot');

            } catch (error) {
                hideTypingIndicator();
                console.error('Error:', error);
                showError('Sorry, I encountered an error. Please try again.');
                addMessage('I apologize, but I\'m having trouble connecting to my knowledge base right now. Please try again in a moment!', 'bot');
            }
        }

        function sendSuggestion(suggestion) {
            chatInput.value = suggestion;
            sendMessage();
        }

        function addMessage(content, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = `
                <div class="message-content">
                    ${content}
                </div>
                <div class="message-time">${getCurrentTime()}</div>
            `;

            chatMessages.appendChild(messageDiv);
            scrollToBottom();
        }

        function getCurrentTime() {
            return new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        function showTypingIndicator() {
            typingIndicator.classList.add('show');
            scrollToBottom();
        }

        function hideTypingIndicator() {
            typingIndicator.classList.remove('show');
        }

        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.style.display = 'block';
            setTimeout(hideError, 5000);
        }

        function hideError() {
            errorMessage.style.display = 'none';
        }

        function scrollToBottom() {
            setTimeout(() => {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 100);
        }

        console.log('Ceylon Explorer Tourism Chatbot updated successfully! 🌴');
    </script>
</body>

</html>